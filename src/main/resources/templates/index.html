<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
    <!-- iamport.payment.js -->
    <script type="text/javascript" src="https://cdn.iamport.kr/js/iamport.payment-1.2.0.js"></script>
    <link rel="stylesheet" type="text/css" th:href="@{../static/style.css}"/>
    <link rel="stylesheet" type="text/css" href="../static/style.css">


    <script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js"
            charset="utf-8"></script>
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>

</head>
<body>

<div th:value="${id}"></div>

<div th:if="${id} != null">
    <div th:text="${id}"></div>
    님 안녕하세요.
    <div class="mainsection">
        <button class="ponyland">포니랜드</button>
        <a th:href="@{/toMiniPage(id = ${id})}">
            <button class="ponyland" type="button">
                <span th:text="${id}"></span> 입장하기
            </button>
            <a th:href="@{/}">
        </a>
            <button class="ponyland">마구간</button>
        </a>
        <a th:href="@{/member/logout}">
            <button class="login">로그아웃</button>
        </a>
    </div>
</div>

<div th:unless="${id} != null"> 뉘쇼
    <div class="mainsection">
        <button class="ponyland">포니랜드</button>
        <a th:href="@{/toMiniPage?(id=${id})}">
            <button class="ponyland" type="button">미니홈피</button>
        </a>
        <a th:href="@{/}">
            <button class="ponyland">마구간</button>
        </a>
        <a th:href="@{/login}">
            <button class="login">로그인</button>
        </a>
        <a th:href="@{/signin}">
            <button class="login">회원가입</button>
        </a>
    </div>
</div>



<!--네이버 토큰 값 확인-->
<script type="text/javascript">
    var naver_id_login = new naver_id_login("4FNXn3NTIyg4Fd8TKvLF", "http://127.0.0.1/");
    // 접근 토큰 값 출력
    //alert(naver_id_login.oauthParams.access_token);
    // 네이버 사용자 프로필 조회
    naver_id_login.get_naver_userprofile("naverSignInCallback()");

    // 네이버 사용자 프로필 조회 이후 프로필 정보를 처리할 callback function
    function naverSignInCallback() {

        let name =naver_id_login.getProfileData('name');
        let email = naver_id_login.getProfileData('email');

        location.href="/member/signinForNaver?name="+name+"&email="+email+"";
    }
</script>


</body>
</html>